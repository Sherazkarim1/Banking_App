!function(){function e(){}e.prototype.readCacheVersionParam=function(){var e=window.document.querySelector("meta[name=cacheVersionQueryParam]");return e?e.content:void 0},e.prototype.getDomain=function(e){var t=location.protocol+"//"+e,n=location.host.split(".");n.length>1&&(found=n[0].match(/-(\d+)/g),found&&(t+=found));for(var o=1;o<n.length;o++)t=t+"."+n[o];return t},e.prototype.getComdirectDomain=function(){var e=document.getElementsByTagName("meta"),t=e&&e.domainSuffix?e.domainSuffix.getAttribute("content"):void 0,n=e&&e.urlPrefix?e.urlPrefix.getAttribute("content"):void 0,o=e&&e.stage?e.stage.getAttribute("content"):void 0;return t?void 0!==o?"https://"+location.host.substring(0,location.host.indexOf("."))+t:n?n:"https://"+location.host.substring(0,location.host.indexOf("."))+t:this.getDomain("www")},e.prototype.load=function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&void 0!==this.responseText&&""!==this.responseText){var t=JSON.parse(this.responseText),n=parseInt(t.version.substr(0,t.version.indexOf("."))),o=window.cmp.consentCookieValue();o&&o.hasOwnProperty("version")?o.version!==n?e.loadConsentModule():(e.openUsercentrics(),e.deleteClientCookies()):e.loadConsentModule()}else 4===this.readyState&&200!==this.status&&e.loadConsentModule()},t.addEventListener("error",function(){e.error()}),t.open("GET",this.getComdirectDomain()+"/cms/media/consent-lang-de.json",!0),t.setRequestHeader("x-requested-with","XMLHttpRequest"),t.send()},e.prototype.loadConsentModule=function(){var e=this.readCacheVersionParam()||"",t=e?"?"+e:"",n=this.getDomain("static"),o=n+"/ccf2/modules/js/consentMgmt.module.js"+t.trim();if(!document.querySelector('script[src="'+o+'"]')){var i=document.createElement("script");i.src=o,i.type="text/javascript",i.async=!0,document.head.appendChild(i)}},e.prototype.openUsercentrics=function(){function e(e,t,n,o,i){e&&e[0].addEventListener(t,function r(o){e[0].removeEventListener(t,r,i),n.apply(this,arguments)},o)}var t=this,n=document.querySelectorAll('a[href="#uc-corner-modal-show"]');n.length>0?e(n,"click",function(e){t.more(),e.preventDefault()}):setTimeout(function(){t.openUsercentrics()},300)},e.prototype.errorJson=function(){var t=new e;t.loadConsentModule()},e.prototype.addLayerContent=function(e,t,n){if(e.insertAdjacentHTML("beforeend",t),null!==document.getElementById("privacy-init-wall-button-accept")){document.getElementById("privacy-init-wall-button-accept").addEventListener("click",function(){n.accept()}),document.getElementById("privacy-init-wall-button-more").addEventListener("click",function(){n.more()}),document.getElementById("privacy-init-wall-button-deny")&&document.getElementById("privacy-init-wall-button-deny").addEventListener("click",function(){n.deny()}),document.getElementById("privacy-init-wall-read-more")&&document.getElementById("privacy-init-wall-read-more").addEventListener("click",function(){n.readMore()},!1);const o=document.querySelectorAll("#privacy-init-wall-description-full a[data-consentid]");o.forEach(function(e){const t=e.getAttribute("data-consentid");t&&e.addEventListener("click",function(){sessionStorage.setItem("consentInitialInfo",t),n.more()})})}else this.load()},e.prototype.createLayer=function(){var e=document.getElementsByTagName("body"),t=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status&&void 0!==this.responseText&&""!==this.responseText&&this.responseText.indexOf("privacy-init-wall-button-accept")>-1){var n=this;e.length>0?t.addLayerContent(e[0],this.responseText,t):setTimeout(function(){e=document.getElementsByTagName("body"),e.length>0?t.addLayerContent(e[0],n,t):t.loadConsentModule()},200)}},n.addEventListener("error",function(){t.error()}),n.open("GET",this.getComdirectDomain()+"/cms/snippets/cmpInitLayer-snippet.html",!0),n.setRequestHeader("x-requested-with","XMLHttpRequest"),n.send()},e.prototype.error=function(t){var n=new e;n.loadConsentModule()},e.prototype.generateCookieAndLog=function(e,t){if("remove"in Element.prototype)document.getElementById("privacy-init-wall").remove();else{var n=document.getElementById("privacy-init-wall");n.parentNode.removeChild(n)}const o='{"cookieTypeConsents":[{"name":"Personalisierung","allowed":"'+t+'"},{"name":"Statistiken","allowed":"'+t+'"}]}';var i=new Date;i.setTime(i.getTime()+31536e6);var r="expires="+i.toUTCString(),a=document.getElementsByName("domainSuffix"),c="";try{c=a&&a.length>0?a[0].getAttribute("content"):".comdirect.de"}catch(s){c=".comdirect.de"}document.cookie="consent="+encodeURIComponent(o)+";domain="+c+";"+r+"; SameSite=None; Secure; path=/";var d=document.body;d.classList.add("cmp--disableInitialLayer"),t&&this.loadConsentModule();const l=new XMLHttpRequest;l.open("POST",e.getComdirectDomain()+"/cp/consentmgmtconfig"),l.withCredentials=!0;var u="cmpInit"+(new Date).getTime(),p='[{"controllerId":"'+u+'","processorId":"'+u+'","settingsId":"Z-lfDnDU","settingsVersion":"1","language": "de","consentStatus": "'+t?1:'0","consentTemplateId": "cmpInitLayer","consentTemplateVersion":"1","updatedBy": "explicit","appVersion": "1","action": "acceptAllClickCdbInitLayer"}]';l.send(p),l.onerror=function(){console.error("Unable to notify the server about user consent. An error occurred during the transaction.")}},e.prototype.deny=function(t){const n=new e;n.generateCookieAndLog(n,"false")},e.prototype.accept=function(t){const n=new e;n.generateCookieAndLog(n,"true")},e.prototype.more=function(t){document.getElementsByTagName("body")[0].setAttribute("data-cmpSecond",!0);var n=new e;n.loadConsentModule()},e.prototype.readMore=function(e){document.getElementById("privacy-init-wall-description-short").setAttribute("style","display:none"),document.getElementById("privacy-init-wall-description-full").setAttribute("style","display:inline")},e.prototype.deleteClientCookies=function(){if(!window.cmp.consentGiven()){var e=new Date,t=new Date;t.setFullYear(e.getFullYear()+1);var n="expires="+t.toUTCString();if(document.cookie.indexOf("ValueSurveyVisitorCount=")>-1){e.setTime(0);var o="expires="+e.toUTCString();document.cookie="ValueSurveyVisitorCount= ; "+o+"; path=/"}null===location.host.match("^(www|kunde|nutzer|magazin).*")&&(document.cookie="ValueSurveyParticipation="+Date.now()+"; "+n+"; path=/")}},e.prototype.init=function(){var e=!1;try{e=null!==localStorage.getItem("usercentrics")}catch(t){e=!1}document.cookie.indexOf("consent=")>-1||e?this.load():this.createLayer()};var t=new e;t.init()}(),"undefined"==typeof window.cmp&&(window.cmp={},window.cmp.consentCookieValue=function(){var e=document.cookie.indexOf("consent="),t=void 0;if(e>-1){var n=document.cookie.split("; ");n.forEach(function(e){if(e.indexOf("consent=")>-1)try{t=JSON.parse(decodeURIComponent(e.substr(8)))}catch(n){}})}return t},window.cmp.consentGiven=function(){var e=window.cmp.consentCookieValue();if(e&&e&&e.cookieTypeConsents&&Array.isArray(e.cookieTypeConsents)){var t=!0;return e.cookieTypeConsents.forEach(function(e){t="boolean"==typeof variable?t&&e.allowed:t&&"true"===e.allowed}),t}return!1});